## 纹理映射 ##
### 1. 纹理映射的基本思想 ###
- 首先为图元中的每个顶点指定恰当的纹理坐标
- 通过纹理坐标在纹理图中可以确定选中的纹理区域
- 将选中纹理区域中的内容根据纹理坐标映射到指定的图元

### 2. 纹理映射的具体过程 ###
- 图元中的每个顶点都需要在顶点着色器中通过 out 变量将纹理坐标传入片元着色器
- 经过顶点着色器后渲染管线的固定功能部分会根据情况进行插值计算，产生对应到每个片元的用于记录纹理坐标的 out 变量值
- 每个片元在片元着色器中根据其接受到的纹理坐标的 in 变量值到纹理图中提取出对应位置的颜色即可，提取颜色的过程一般成为纹理采样


## 纹理拉伸 ##
纹理坐标设置大于1，此时拉伸方式就会起作用，实际起作用的纹理坐标为纹理坐标的小数部分

- 向下为 T
- 向右为 S

### 1. 重复拉伸方式 ###
- 适合在很多大场景地形的纹理贴图，如将大块地面重复铺满草皮纹理、将大片水面重复铺满水波纹理等
### 2. 镜像重复拉伸方式 ###
### 3. 截取重复拉伸方式 ###
- 当纹理坐标的值大于1时都看做1

## 纹理采样 ##

- 纹理采样就是根据片元的纹理坐标到纹理图中提取对应位置颜色的过程
- 将较小的纹理图映射到较大的图元或将较大的纹理图映射到较小的图元时则需要纹理采样

### 1. 最近点采样 ###
- 直接取坐标点内像素的颜色值
- 较小的纹理映射到较大的图元上时容易产生明显的锯齿
- 较大的纹理映射到较小的图元上时也会产生锯齿，但是视觉上不那么明显

### 2. 线性采样 ###
- 根据设计的像素在采样范围内的面积比例加权计算出最终的采样结果
- 较小的纹理图映射到较大的图元上时，不会再有锯齿的产生，而是平滑过度的

### 3. MIN 与 MAG 采样 ###
|采样方式|含义|
|:---|:----|
|GL_TEXTURE_MIN_FILTER|当纹理图中一个像素对应到待映射图上的多个图元时（放大）|
|GL_TEXTURE_MAG_FILTER|当纹理图中多个像素对应到待映射图上的一个图元时（缩小）|


## 4. mipmap 纹理技术 ##
- mipmap 的思想
> 对远处的地形采用尺寸较小、分辨率低的纹理，近处的采用尺寸较大分辨率高的纹理

- mipmap 基本代码

```
    //设置 MIN 情况为 mipmap 最近点采样
    GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D,GLES30.GL_TEXTURE_MIN_FILTER,GLES30.LINEAR_MIPMAP_NEAREST)
    //设置 MAG 情况为 mipmap 线性采样
    GLES30.glTexParameteri(GLES30.GL_TEXTURE_2D,GLES30.GL_TEXTURE_MAG_FILTER,GLES30.LINEAR_MIPMAP_LINEAR)
    
```

|采样方式|说明|
|:---|:----|
|GL_NEAREST_MIPMAP_NEAREST|选择最临近的 mip 层，层内使用最近点采样|
|GL_NEAREST_MIPMAP_LINEAR|在 mip 层之间使用线性插值，层内使用最近点采样|
|GL_LINEAR_MIPMAP_NEAREST|选择最临近的 mip 层，层内使用线性采样|
|GL_LINEAR_MIPMAP_LINEAR|在 mip 层之间使用线性插值，层内使用线性采样|


## 5. 多重纹理与过程纹理 ##
- 多重纹理：同一个图元采用多幅纹理图
- 过程纹理：多重纹理变化的边界根据某种规则进行平滑过度

## 6. 压缩纹理 ##
- 在游戏应用开发的准备阶段将各种形式（png、jpg）纹理采用特定的工具转换为特殊的压缩纹理格式，然后在应用程序运行时，直接将压缩格式的纹理数据送入纹理缓冲供纹理采样使用
- 采用压缩格式减少了7/8的空间需求
- 生成方法
```
    //Android SDK -> tools -> platform-tools -> etc1tools test.png --encode
    //生成一张 test.pkm 的文件
    
    Input is=this.getResources().openRawResources(R.raw.test)
        ETC1.loadTexture(
            GLES30.GL_TEXTURE_2D,
            0,
            0,
            GLE30.GL_RGB,
            GLE30.GL_UNSiGNED_BYTE,
            is
        )
```